<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Updating Domains with Cloudways • 301 Redirects | Mr Ash Co</title>
<meta name=keywords content="Hosting,WordPress"><meta name=description content="So you’re updating domains, but what about your search rankings? I just did this myself and it wasn’t as hard as I expected.
Disclaimer, if you need help, read .htaccess file and SSH setup.
HTACCESS File If you’re running a Content Delivery Network (CDN), turn off caching. For example, Cloudflare Dashboard > turn on development mode.
Next, connect to your server via SSH.
ssh <username>@<ip> nano .htaccess Copy the text below, replace the placeholder text."><meta name=author content="Mr Ash"><link rel=canonical href=//localhost:1313/updating-domains-with-cloudways-301-redirects/><meta name=google-site-verification content="G-XL842W0SQL"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.5591f0f0e6da962274ad39d968be1ca571fe1593fa5f642efac68ccea21a574f.css integrity="sha256-VZHw8ObaliJ0rTnZaL4cpXH+FZP6X2Qu+saMzqIaV08=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href="https://p146.p4.n0.cdn.getcloudapp.com/items/Jrum0N6q/4ab8cbb7-d222-4c3c-963d-f0ec6c30568c.jpg?source=viewer&amp;v=db94595858aad20b777e4f130cbe5006"><link rel=icon type=image/png sizes=16x16 href=//localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=//localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=//localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=//localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=//localhost:1313/updating-domains-with-cloudways-301-redirects/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-XL842W0SQL"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XL842W0SQL")}</script><meta property="og:title" content="Updating Domains with Cloudways • 301 Redirects"><meta property="og:description" content="So you’re updating domains, but what about your search rankings? I just did this myself and it wasn’t as hard as I expected.
Disclaimer, if you need help, read .htaccess file and SSH setup.
HTACCESS File If you’re running a Content Delivery Network (CDN), turn off caching. For example, Cloudflare Dashboard > turn on development mode.
Next, connect to your server via SSH.
ssh <username>@<ip> nano .htaccess Copy the text below, replace the placeholder text."><meta property="og:type" content="article"><meta property="og:url" content="//localhost:1313/updating-domains-with-cloudways-301-redirects/"><meta property="og:image" content="//localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-03-29T00:00:00+00:00"><meta property="article:modified_time" content="2022-03-29T00:00:00+00:00"><meta property="og:site_name" content="Mr Ash Co"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="//localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Updating Domains with Cloudways • 301 Redirects"><meta name=twitter:description content="So you’re updating domains, but what about your search rankings? I just did this myself and it wasn’t as hard as I expected.
Disclaimer, if you need help, read .htaccess file and SSH setup.
HTACCESS File If you’re running a Content Delivery Network (CDN), turn off caching. For example, Cloudflare Dashboard > turn on development mode.
Next, connect to your server via SSH.
ssh <username>@<ip> nano .htaccess Copy the text below, replace the placeholder text."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"//localhost:1313/post/"},{"@type":"ListItem","position":2,"name":"Updating Domains with Cloudways • 301 Redirects","item":"//localhost:1313/updating-domains-with-cloudways-301-redirects/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Updating Domains with Cloudways • 301 Redirects","name":"Updating Domains with Cloudways • 301 Redirects","description":"So you’re updating domains, but what about your search rankings? I just did this myself and it wasn’t as hard as I expected.\nDisclaimer, if you need help, read .htaccess file and SSH setup.\nHTACCESS File If you’re running a Content Delivery Network (CDN), turn off caching. For example, Cloudflare Dashboard \u0026gt; turn on development mode.\nNext, connect to your server via SSH.\nssh \u0026lt;username\u0026gt;@\u0026lt;ip\u0026gt; nano .htaccess Copy the text below, replace the placeholder text.","keywords":["Hosting","WordPress"],"articleBody":"So you’re updating domains, but what about your search rankings? I just did this myself and it wasn’t as hard as I expected.\nDisclaimer, if you need help, read .htaccess file and SSH setup.\nHTACCESS File If you’re running a Content Delivery Network (CDN), turn off caching. For example, Cloudflare Dashboard \u003e turn on development mode.\nNext, connect to your server via SSH.\nssh @ nano .htaccess Copy the text below, replace the placeholder text. Exit nano and save file, CTRL + X \u003e Y \u003e ENTER RewriteEngine On\rRewriteCond %{HTTP_HOST} ^olddomain.com$\rRewriteRule (.*)$ [R=301,L]\rDone, you’ve added code to force the redirect of your new domain on all web pages.\nWordPress Now reflect the new domain in WordPress.\nGo to, Settings \u003e General \u003e WordPress Address (URL), Site Address (URL) and add your new domain to either both fields or site address.\nEasy as, that’s it for WordPress.\nCloudways Now the server and WordPress application know about the changes, it’s over to your web host.\nCloudways \u003e Application Management \u003e Domain Management Update Primary Domain to New Domain If you’re stuck, reach out to the Cloudways support team, they’re super helpful. If you host with another provider, check their documentation for these steps.\nSearch Engines Lastly, to ensure your precious Search Rankings stay as they are, update your desired Search Engine Consoles.\nFor Google, Search Console \u003e select your old domain. Go to Settings \u003e Change of address For more see How do I safely move or migrate my website to a new domain name?\nNow repeat this for the other search engines such as Bing… or don’t. Hope this was helpful.\n","wordCount":"277","inLanguage":"en","datePublished":"2022-03-29T00:00:00Z","dateModified":"2022-03-29T00:00:00Z","author":{"@type":"Person","name":"Mr Ash"},"mainEntityOfPage":{"@type":"WebPage","@id":"//localhost:1313/updating-domains-with-cloudways-301-redirects/"},"publisher":{"@type":"Organization","name":"Mr Ash Co","logo":{"@type":"ImageObject","url":"https://p146.p4.n0.cdn.getcloudapp.com/items/Jrum0N6q/4ab8cbb7-d222-4c3c-963d-f0ec6c30568c.jpg?source=viewer\u0026v=db94595858aad20b777e4f130cbe5006"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=//localhost:1313/ accesskey=h title="mrashco (Alt + H)">mrashco</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=//localhost:1313/post title=posts><span>posts</span></a></li><li><a href=//localhost:1313/note title=notes><span>notes</span></a></li><li><a href=//localhost:1313/letter title=letters><span>letters</span></a></li><li><a href=//localhost:1313/search title=" (Alt + /)" accesskey=/><span><svg xmlns="http://www.w3.org/2000/svg" width="17.5" height="17.5" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=//localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=//localhost:1313/post/>Posts</a></div><h1 class=post-title>Updating Domains with Cloudways • 301 Redirects</h1><div class=post-meta><span title='2022-03-29 00:00:00 +0000 UTC'>29/03/2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;277 words&nbsp;·&nbsp;Mr Ash&nbsp;|&nbsp;<a href=https://github.com/mrashco/mrash.co/tree/main/content/post/2022/domains-301.md rel="noopener noreferrer" target=_blank>Suggest Edits</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#htaccess-file>HTACCESS File</a></li><li><a href=#wordpress>WordPress</a></li><li><a href=#cloudways>Cloudways</a></li><li><a href=#search-engines>Search Engines</a></li></ul></nav></div></details></div><div class=post-content><p>So you’re updating domains, but what about your search rankings? I just did this myself and it wasn’t as hard as I expected.</p><p><em>Disclaimer, if you need help, read <a href=https://support.cloudways.com/en/articles/5123922-what-can-i-do-with-an-htaccess-file>.htaccess file</a> and <a href=https://support.cloudways.com/en/articles/5119485-guide-to-connecting-to-your-application-using-ssh-sftp>SSH setup</a>.</em></p><h2 id=htaccess-file>HTACCESS File<a hidden class=anchor aria-hidden=true href=#htaccess-file>#</a></h2><p>If you’re running a Content Delivery Network (CDN), turn off caching. For example, Cloudflare Dashboard > turn on development mode.</p><p>Next, connect to your server via SSH.</p><ol><li><code>ssh &lt;username>@&lt;ip></code></li><li><code>nano .htaccess</code></li><li>Copy the text below, replace the placeholder text.</li><li>Exit nano and save file, <code>CTRL + X</code> > <code>Y</code> > <code>ENTER</code></li></ol><pre tabindex=0><code>&lt;IfModule mod_rewrite.c&gt;
  RewriteEngine On
  RewriteCond %{HTTP_HOST} ^olddomain.com$
  RewriteRule (.*)$ &lt;https://newdomain.com/$1&gt; [R=301,L]
&lt;/IfModule&gt;
</code></pre><p>Done, you’ve added code to force the redirect of your new domain on all web pages.</p><h2 id=wordpress>WordPress<a hidden class=anchor aria-hidden=true href=#wordpress>#</a></h2><p>Now reflect the new domain in WordPress.</p><p>Go to, Settings > General > WordPress Address (URL), Site Address (URL) and add your new domain to either both fields or site address.</p><p><img loading=lazy src="https://p146.p4.n0.cdn.getcloudapp.com/items/qGu7vGmO/515fb4f4-b80f-4701-bef6-1085aead738e.jpeg?v=c880891c70243b6ec38596bc3261be1c" alt="https://p146.p4.n0.cdn.getcloudapp.com/items/qGu7vGmO/515fb4f4-b80f-4701-bef6-1085aead738e.jpeg?v=c880891c70243b6ec38596bc3261be1c"></p><p>Easy as, that’s it for WordPress.</p><h2 id=cloudways>Cloudways<a hidden class=anchor aria-hidden=true href=#cloudways>#</a></h2><p>Now the server and WordPress application know about the changes, it’s over to your web host.</p><ol><li>Cloudways > Application Management > Domain Management</li><li>Update Primary Domain to New Domain</li></ol><p><img loading=lazy src="https://p146.p4.n0.cdn.getcloudapp.com/items/E0ugrv1E/b92d1c56-3a6c-4e8c-ba9a-b2ee86879a68.jpeg?v=26f0f0c7ac2390d135dbcfea3d26107a" alt="https://p146.p4.n0.cdn.getcloudapp.com/items/E0ugrv1E/b92d1c56-3a6c-4e8c-ba9a-b2ee86879a68.jpeg?v=26f0f0c7ac2390d135dbcfea3d26107a"></p><p>If you’re stuck, reach out to the Cloudways support team, they’re super helpful. If you host with another provider, check their documentation for these steps.</p><h2 id=search-engines>Search Engines<a hidden class=anchor aria-hidden=true href=#search-engines>#</a></h2><p>Lastly, to ensure your precious Search Rankings stay as they are, update your desired Search Engine Consoles.</p><ol><li>For Google, Search Console > select your old domain.</li><li>Go to Settings > Change of address</li></ol><p>For more see <a href=https://www.sistrix.com/ask-sistrix/onpage-optimisation/how-do-i-safely-move-my-website-to-a-new-domain-name/>How do I safely move or migrate my website to a new domain name?</a></p><p>Now repeat this for the other search engines such as Bing… or don’t. Hope this was helpful.</p><br><div class=gist-embed-form data-form-type=embedded data-form-id=1489913 data-workspace-id=aw3xhcat version=3></div><script type=text/javascript src=https://forms-widget.getgist.com/ defer></script></div><footer class=post-footer><ul class=post-tags><li><a href=//localhost:1313/tags/hosting/>Hosting</a></li><li><a href=//localhost:1313/tags/wordpress/>WordPress</a></li></ul><nav class=paginav><a class=prev href=//localhost:1313/learning-path-for-beginner-hacker/><span class=title>« Prev</span><br><span>Hackers Learning Path</span>
</a><a class=next href=//localhost:1313/cowsays-what-ctf/><span class=title>Next »</span><br><span>Cowsays What CTF - A Beginner Linux Project</span></a></nav></footer></article></main><footer class=footer><span>Made with ♥ from Australia</span> •
<span>&copy; 2017-2024 <a href=/policies>Policies</a><br>Site by <a href=//localhost:1313/>Mr Ash Co</a></span>
<span>• Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a>
x
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>